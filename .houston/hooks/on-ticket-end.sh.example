#!/bin/bash
# ============================================================
# on-ticket-end.sh ‚Äî Hook executed before ticket workspace removal
#
# Available environment variables:
#   TICKET_ID      ‚Äî e.g., "T-BW-1700"
#   WORKSPACE_PATH ‚Äî absolute path to the workspace being closed
#   PROJECT_CODE   ‚Äî e.g., "BW"
#   BRANCH_NAME    ‚Äî e.g., "feat/T-BW-1700--CS-01"
#   HOUSTON_ROOT   ‚Äî absolute path to Houston workspace root
#
# This hook is non-blocking: if it fails, a warning is printed
# but workspace removal continues normally.
#
# To activate: copy this file without .example extension and chmod +x
#   cp on-ticket-end.sh.example on-ticket-end.sh
#   chmod +x on-ticket-end.sh
# ============================================================

echo "üßπ Running cleanup for $TICKET_ID ($PROJECT_CODE)..."

# Example: Deactivate virtual environment
# if [ -d "$WORKSPACE_PATH/.venv" ]; then
#   echo "   üóëÔ∏è Virtual environment will be removed with workspace"
# fi

# Example: Clean up temp files
# if [ -d "$WORKSPACE_PATH/tmp" ]; then
#   echo "   üóëÔ∏è Cleaning temp files..."
#   rm -rf "$WORKSPACE_PATH/tmp"
# fi

echo "‚úÖ Cleanup hook complete for $TICKET_ID"
