#!/bin/bash
# ============================================================
# on-ticket-start.sh â€” Hook executed after ticket workspace creation
#
# Available environment variables:
#   TICKET_ID      â€” e.g., "T-BW-1700"
#   WORKSPACE_PATH â€” absolute path to the new workspace
#   PROJECT_CODE   â€” e.g., "BW"
#   BRANCH_NAME    â€” e.g., "feat/T-BW-1700--CS-01"
#   HOUSTON_ROOT   â€” absolute path to Houston workspace root
#
# This hook is non-blocking: if it fails, a warning is printed
# but workspace creation continues normally.
#
# To activate: copy this file without .example extension and chmod +x
#   cp on-ticket-start.sh.example on-ticket-start.sh
#   chmod +x on-ticket-start.sh
# ============================================================

echo "ðŸ”§ Running post-setup for $TICKET_ID ($PROJECT_CODE)..."

cd "$WORKSPACE_PATH" || exit 1

# Example: Python project setup
# if [ -f "requirements.txt" ]; then
#   echo "   ðŸ“¦ Installing Python dependencies..."
#   pip install -r requirements.txt
# fi

# Example: Copy .env from template
# if [ -f ".env.example" ] && [ ! -f ".env" ]; then
#   echo "   ðŸ“„ Creating .env from template..."
#   cp .env.example .env
# fi

# Example: Node.js project setup
# if [ -f "package.json" ]; then
#   echo "   ðŸ“¦ Installing Node dependencies..."
#   npm install
# fi

echo "âœ… Setup hook complete for $TICKET_ID"
